(()=>{var e={437:(e,r,n)=>{var t,o=function(e){var r="b",n="w",t=-1,o="p",i="k",l="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",u=["1-0","0-1","1/2-1/2","*"],a={b:[16,32,17,15],w:[-16,-32,-17,-15]},f={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},c=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],s=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],p={p:0,n:1,b:2,r:3,q:4,k:5},v={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},g={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},h={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},d={w:[{square:h.a1,flag:g.QSIDE_CASTLE},{square:h.h1,flag:g.KSIDE_CASTLE}],b:[{square:h.a8,flag:g.QSIDE_CASTLE},{square:h.h8,flag:g.KSIDE_CASTLE}]},b=new Array(128),E={w:t,b:t},m=n,_={w:0,b:0},S=t,y=0,A=1,w=[],C={},I={};function T(e){void 0===e&&(e=!1),b=new Array(128),E={w:t,b:t},m=n,_={w:0,b:0},S=t,y=0,A=1,w=[],e||(C={}),I={},N(O())}function R(){for(var e=[],r={},n=function(e){e in I&&(r[e]=I[e])};w.length>0;)e.push(z());for(n(O());e.length>0;)Z(e.pop()),n(O());I=r}function P(){L(l)}function L(e,o){void 0===o&&(o=!1);var i=e.split(/\s+/),l=i[0],u=0;if(!k(e).valid)return!1;T(o);for(var a=0;a<l.length;a++){var f=l.charAt(a);if("/"===f)u+=8;else if(-1!=="0123456789".indexOf(f))u+=parseInt(f,10);else{var c=f<"a"?n:r;D({type:f.toLowerCase(),color:c},Y(u)),u++}}return m=i[1],i[2].indexOf("K")>-1&&(_.w|=g.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(_.w|=g.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(_.b|=g.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(_.b|=g.QSIDE_CASTLE),S="-"===i[3]?t:h[i[3]],y=parseInt(i[4],10),A=parseInt(i[5],10),N(O()),!0}function k(e){var r=e.split(/\s+/);if(6!==r.length)return{valid:!1,error_number:1,error:"FEN string must contain six space-delimited fields."};if(isNaN(r[5])||parseInt(r[5],10)<=0)return{valid:!1,error_number:2,error:"6th field (move number) must be a positive integer."};if(isNaN(r[4])||parseInt(r[4],10)<0)return{valid:!1,error_number:3,error:"5th field (half move counter) must be a non-negative integer."};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{valid:!1,error_number:4,error:"4th field (en-passant square) is invalid."};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(r[2]))return{valid:!1,error_number:5,error:"3rd field (castling availability) is invalid."};if(!/^(w|b)$/.test(r[1]))return{valid:!1,error_number:6,error:"2nd field (side to move) is invalid."};var n=r[0].split("/");if(8!==n.length)return{valid:!1,error_number:7,error:"1st field (piece positions) does not contain 8 '/'-delimited rows."};for(var t=0;t<n.length;t++){for(var o=0,i=!1,l=0;l<n[t].length;l++)if(isNaN(n[t][l])){if(!/^[prnbqkPRNBQK]$/.test(n[t][l]))return{valid:!1,error_number:9,error:"1st field (piece positions) is invalid [invalid piece]."};o+=1,i=!1}else{if(i)return{valid:!1,error_number:8,error:"1st field (piece positions) is invalid [consecutive numbers]."};o+=parseInt(n[t][l],10),i=!0}if(8!==o)return{valid:!1,error_number:10,error:"1st field (piece positions) is invalid [row too large]."}}return"3"==r[3][1]&&"w"==r[1]||"6"==r[3][1]&&"b"==r[1]?{valid:!1,error_number:11,error:"Illegal en-passant square"}:{valid:!0,error_number:0,error:"No errors."}}function O(){for(var e=0,r="",o=h.a8;o<=h.h1;o++){if(null==b[o])e++;else{e>0&&(r+=e,e=0);var i=b[o].color,l=b[o].type;r+=i===n?l.toUpperCase():l.toLowerCase()}o+1&136&&(e>0&&(r+=e),o!==h.h1&&(r+="/"),e=0,o+=8)}var u="";_.w&g.KSIDE_CASTLE&&(u+="K"),_.w&g.QSIDE_CASTLE&&(u+="Q"),_.b&g.KSIDE_CASTLE&&(u+="k"),_.b&g.QSIDE_CASTLE&&(u+="q"),u=u||"-";var a=S===t?"-":Y(S);return[r,m,u,a,y,A].join(" ")}function q(e){for(var r=0;r<e.length;r+=2)"string"==typeof e[r]&&"string"==typeof e[r+1]&&(C[e[r]]=e[r+1]);return C}function N(e){w.length>0||(e!==l?(C.SetUp="1",C.FEN=e):(delete C.SetUp,delete C.FEN))}function x(e){var r=b[h[e]];return r?{type:r.type,color:r.color}:null}function D(e,r){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(r in h))return!1;var n=h[r];return(e.type!=i||E[e.color]==t||E[e.color]==n)&&(b[n]={type:e.type,color:e.color},e.type===i&&(E[e.color]=n),N(O()),!0)}function U(e,r,n,t,i){var l={color:m,from:r,to:n,flags:t,piece:e[r].type};return i&&(l.flags|=g.PROMOTION,l.promotion=i),e[n]?l.captured=e[n].type:t&g.EP_CAPTURE&&(l.captured=o),l}function K(e){function r(e,r,n,t,i){if(e[n].type!==o||0!==J(t)&&7!==J(t))r.push(U(e,n,t,i));else for(var l=["q","r","b","n"],u=0,a=l.length;u<a;u++)r.push(U(e,n,t,i,l[u]))}var n=[],t=m,i=ee(t),l={b:1,w:6},u=h.a8,c=h.h1,s=!1,p=void 0===e||!("legal"in e)||e.legal;if(void 0!==e&&"square"in e){if(!(e.square in h))return[];u=c=h[e.square],s=!0}for(var v=u;v<=c;v++)if(136&v)v+=7;else{var d=b[v];if(null!=d&&d.color===t)if(d.type===o){var y=v+a[t][0];for(null==b[y]&&(r(b,n,v,y,g.NORMAL),y=v+a[t][1],l[t]===J(v)&&null==b[y]&&r(b,n,v,y,g.BIG_PAWN)),A=2;A<4;A++)136&(y=v+a[t][A])||(null!=b[y]&&b[y].color===i?r(b,n,v,y,g.CAPTURE):y===S&&r(b,n,v,S,g.EP_CAPTURE))}else for(var A=0,w=f[d.type].length;A<w;A++){var C=f[d.type][A];for(y=v;!(136&(y+=C));){if(null!=b[y]){if(b[y].color===t)break;r(b,n,v,y,g.CAPTURE);break}if(r(b,n,v,y,g.NORMAL),"n"===d.type||"k"===d.type)break}}}if(!s||c===E[t]){if(_[t]&g.KSIDE_CASTLE){var I=(T=E[t])+2;null!=b[T+1]||null!=b[I]||$(i,E[t])||$(i,T+1)||$(i,I)||r(b,n,E[t],I,g.KSIDE_CASTLE)}var T;if(_[t]&g.QSIDE_CASTLE)I=(T=E[t])-2,null!=b[T-1]||null!=b[T-2]||null!=b[T-3]||$(i,E[t])||$(i,T-1)||$(i,I)||r(b,n,E[t],I,g.QSIDE_CASTLE)}if(!p)return n;var R=[];for(v=0,w=n.length;v<w;v++)Z(n[v]),B(t)||R.push(n[v]),z();return R}function Q(e,r){var n="";if(e.flags&g.KSIDE_CASTLE)n="O-O";else if(e.flags&g.QSIDE_CASTLE)n="O-O-O";else{var t=function(e,r){for(var n=K({legal:!r}),t=e.from,o=e.to,i=e.piece,l=0,u=0,a=0,f=0,c=n.length;f<c;f++){var s=n[f].from,p=n[f].to;i===n[f].piece&&t!==s&&o===p&&(l++,J(t)===J(s)&&u++,X(t)===X(s)&&a++)}return l>0?u>0&&a>0?Y(t):a>0?Y(t).charAt(1):Y(t).charAt(0):""}(e,r);e.piece!==o&&(n+=e.piece.toUpperCase()+t),e.flags&(g.CAPTURE|g.EP_CAPTURE)&&(e.piece===o&&(n+=Y(e.from)[0]),n+="x"),n+=Y(e.to),e.flags&g.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return Z(e),M()&&(F()?n+="#":n+="+"),z(),n}function j(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function $(e,t){for(var i=h.a8;i<=h.h1;i++)if(136&i)i+=7;else if(null!=b[i]&&b[i].color===e){var l=b[i],u=i-t,a=u+119;if(c[a]&1<<p[l.type]){if(l.type===o){if(u>0){if(l.color===n)return!0}else if(l.color===r)return!0;continue}if("n"===l.type||"k"===l.type)return!0;for(var f=s[a],v=i+f,g=!1;v!==t;){if(null!=b[v]){g=!0;break}v+=f}if(!g)return!0}}return!1}function B(e){return $(ee(e),E[e])}function M(){return B(m)}function F(){return M()&&0===K().length}function W(){return!M()&&0===K().length}function G(){for(var e={},r=[],n=0,t=0,o=h.a8;o<=h.h1;o++)if(t=(t+1)%2,136&o)o+=7;else{var i=b[o];i&&(e[i.type]=i.type in e?e[i.type]+1:1,"b"===i.type&&r.push(t),n++)}if(2===n)return!0;if(3===n&&(1===e.b||1===e.n))return!0;if(n===e.b+2){var l=0,u=r.length;for(o=0;o<u;o++)l+=r[o];if(0===l||l===u)return!0}return!1}function H(){for(var e=[],r={},n=!1;;){var t=z();if(!t)break;e.push(t)}for(;;){var o=O().split(" ").slice(0,4).join(" ");if(r[o]=o in r?r[o]+1:1,r[o]>=3&&(n=!0),!e.length)break;Z(e.pop())}return n}function Z(e){var n=m,l=ee(n);if(function(e){w.push({move:e,kings:{b:E.b,w:E.w},turn:m,castling:{b:_.b,w:_.w},ep_square:S,half_moves:y,move_number:A})}(e),b[e.to]=b[e.from],b[e.from]=null,e.flags&g.EP_CAPTURE&&(m===r?b[e.to-16]=null:b[e.to+16]=null),e.flags&g.PROMOTION&&(b[e.to]={type:e.promotion,color:n}),b[e.to].type===i){if(E[b[e.to].color]=e.to,e.flags&g.KSIDE_CASTLE){var u=e.to-1,a=e.to+1;b[u]=b[a],b[a]=null}else e.flags&g.QSIDE_CASTLE&&(u=e.to+1,a=e.to-2,b[u]=b[a],b[a]=null);_[n]=""}if(_[n])for(var f=0,c=d[n].length;f<c;f++)if(e.from===d[n][f].square&&_[n]&d[n][f].flag){_[n]^=d[n][f].flag;break}if(_[l])for(f=0,c=d[l].length;f<c;f++)if(e.to===d[l][f].square&&_[l]&d[l][f].flag){_[l]^=d[l][f].flag;break}S=e.flags&g.BIG_PAWN?"b"===m?e.to-16:e.to+16:t,e.piece===o||e.flags&(g.CAPTURE|g.EP_CAPTURE)?y=0:y++,m===r&&A++,m=ee(m)}function z(){var e=w.pop();if(null==e)return null;var n=e.move;E=e.kings,m=e.turn,_=e.castling,S=e.ep_square,y=e.half_moves,A=e.move_number;var t,i,l=m,u=ee(m);if(b[n.from]=b[n.to],b[n.from].type=n.piece,b[n.to]=null,n.flags&g.CAPTURE)b[n.to]={type:n.captured,color:u};else if(n.flags&g.EP_CAPTURE){var a;a=l===r?n.to-16:n.to+16,b[a]={type:o,color:u}}return n.flags&(g.KSIDE_CASTLE|g.QSIDE_CASTLE)&&(n.flags&g.KSIDE_CASTLE?(t=n.to+1,i=n.to-1):n.flags&g.QSIDE_CASTLE&&(t=n.to-2,i=n.to+1),b[t]=b[i],b[i]=null),n}function V(e,r){var n=j(e);if(r){var t=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(t)var o=t[1],i=t[2],l=t[3],u=t[4]}for(var a=K(),f=0,c=a.length;f<c;f++){if(n===j(Q(a[f]))||r&&n===j(Q(a[f],!0)))return a[f];if(t&&(!o||o.toLowerCase()==a[f].piece)&&h[i]==a[f].from&&h[l]==a[f].to&&(!u||u.toLowerCase()==a[f].promotion))return a[f]}return null}function J(e){return e>>4}function X(e){return 15&e}function Y(e){var r=X(e),n=J(e);return"abcdefgh".substring(r,r+1)+"87654321".substring(n,n+1)}function ee(e){return e===n?r:n}function re(e){var r=ne(e);r.san=Q(r,!1),r.to=Y(r.to),r.from=Y(r.from);var n="";for(var t in g)g[t]&r.flags&&(n+=v[t]);return r.flags=n,r}function ne(e){var r=e instanceof Array?[]:{};for(var n in e)r[n]="object"==typeof n?ne(e[n]):e[n];return r}function te(e){return e.replace(/^\s+|\s+$/g,"")}function oe(e){for(var r=K({legal:!1}),n=0,t=m,o=0,i=r.length;o<i;o++)Z(r[o]),B(t)||(e-1>0?n+=oe(e-1):n++),z();return n}return L(void 0===e?l:e),{WHITE:n,BLACK:r,PAWN:o,KNIGHT:"n",BISHOP:"b",ROOK:"r",QUEEN:"q",KING:i,SQUARES:function(){for(var e=[],r=h.a8;r<=h.h1;r++)136&r?r+=7:e.push(Y(r));return e}(),FLAGS:v,load:function(e){return L(e)},reset:function(){return P()},moves:function(e){for(var r=K(e),n=[],t=0,o=r.length;t<o;t++)void 0!==e&&"verbose"in e&&e.verbose?n.push(re(r[t])):n.push(Q(r[t],!1));return n},in_check:function(){return M()},in_checkmate:function(){return F()},in_stalemate:function(){return W()},in_draw:function(){return y>=100||W()||G()||H()},insufficient_material:function(){return G()},in_threefold_repetition:function(){return H()},game_over:function(){return y>=100||F()||W()||G()||H()},validate_fen:function(e){return k(e)},fen:function(){return O()},board:function(){for(var e=[],r=[],n=h.a8;n<=h.h1;n++)null==b[n]?r.push(null):r.push({type:b[n].type,color:b[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e},pgn:function(e){var r="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",n="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,t=[],o=!1;for(var i in C)t.push("["+i+' "'+C[i]+'"]'+r),o=!0;o&&w.length&&t.push(r);for(var l=function(e){var r=I[O()];return void 0!==r&&(e=`${e}${e.length>0?" ":""}{${r}}`),e},u=[];w.length>0;)u.push(z());var a=[],f="";for(0===u.length&&a.push(l(""));u.length>0;){f=l(f);var c=u.pop();w.length||"b"!==c.color?"w"===c.color&&(f.length&&a.push(f),f=A+"."):f=A+". ...",f=f+" "+Q(c,!1),Z(c)}if(f.length&&a.push(l(f)),void 0!==C.Result&&a.push(C.Result),0===n)return t.join("")+a.join(" ");var s=function(){return t.length>0&&" "===t[t.length-1]&&(t.pop(),!0)},p=function(e,o){for(var i of o.split(" "))if(i){if(e+i.length>n){for(;s();)e--;t.push(r),e=0}t.push(i),e+=i.length,t.push(" "),e++}return s()&&e--,e},v=0;for(i=0;i<a.length;i++)v+a[i].length>n&&a[i].includes("{")?v=p(v,a[i]):(v+a[i].length>n&&0!==i?(" "===t[t.length-1]&&t.pop(),t.push(r),v=0):0!==i&&(t.push(" "),v++),t.push(a[i]),v+=a[i].length);return t.join("")},load_pgn:function(e,r){var n=void 0!==r&&"sloppy"in r&&r.sloppy;function t(e){return e.replace(/\\/g,"\\")}var o="object"==typeof r&&"string"==typeof r.newline_char?r.newline_char:"\r?\n",i=new RegExp("^(\\[((?:"+t(o)+")|.)*\\])(?:"+t(o)+"){2}"),l=i.test(e)?i.exec(e)[1]:"";P();var a=function(e,r){for(var n="object"==typeof r&&"string"==typeof r.newline_char?r.newline_char:"\r?\n",o={},i=e.split(new RegExp(t(n))),l="",u="",a=0;a<i.length;a++)l=i[a].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),u=i[a].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),te(l).length>0&&(o[l]=u);return o}(l,r);for(var f in a)q([f,a[f]]);if(!("1"!==a.SetUp||"FEN"in a&&L(a.FEN,!0)))return!1;for(var c=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(t(o),"g")," ")).slice(1,e.length-1))}}`},s=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+e.match(/.{1,2}/g).join("%"))}(e.slice(1,e.length-1))},p=e.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${t(o)}]*)`,"g"),(function(e,r,n){return void 0!==r?c(r):" "+c(`{${n.slice(1)}}`)})).replace(new RegExp(t(o),"g")," "),v=/(\([^\(\)]+\))+?/g;v.test(p);)p=p.replace(v,"");var g=te(p=(p=(p=p.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));g=g.join(",").replace(/,,+/g,",").split(",");for(var h="",d=0;d<g.length-1;d++){var b=s(g[d]);if(void 0===b){if(null==(h=V(g[d],n)))return!1;Z(h)}else I[O()]=b}if(void 0!==(b=s(g[g.length-1]))&&(I[O()]=b,g.pop()),h=g[g.length-1],u.indexOf(h)>-1)(function(e){for(var r in e)return!0;return!1})(C)&&void 0===C.Result&&q(["Result",h]);else{if(null==(h=V(h,n)))return!1;Z(h)}return!0},header:function(){return q(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",r=h.a8;r<=h.h1;r++){if(0===X(r)&&(e+=" "+"87654321"[J(r)]+" |"),null==b[r])e+=" . ";else{var t=b[r].type;e+=" "+(b[r].color===n?t.toUpperCase():t.toLowerCase())+" "}r+1&136&&(e+="|\n",r+=8)}return(e+="   +------------------------+\n")+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return m},move:function(e,r){var n=void 0!==r&&"sloppy"in r&&r.sloppy,t=null;if("string"==typeof e)t=V(e,n);else if("object"==typeof e)for(var o=K(),i=0,l=o.length;i<l;i++)if(e.from===Y(o[i].from)&&e.to===Y(o[i].to)&&(!("promotion"in o[i])||e.promotion===o[i].promotion)){t=o[i];break}if(!t)return null;var u=re(t);return Z(t),u},undo:function(){var e=z();return e?re(e):null},clear:function(){return T()},put:function(e,r){return D(e,r)},get:function(e){return x(e)},remove:function(e){return function(e){var r=x(e);return b[h[e]]=null,r&&r.type===i&&(E[r.color]=t),N(O()),r}(e)},perft:function(e){return oe(e)},square_color:function(e){if(e in h){var r=h[e];return(J(r)+X(r))%2==0?"light":"dark"}return null},history:function(e){for(var r=[],n=[],t=(void 0!==e&&"verbose"in e&&e.verbose);w.length>0;)r.push(z());for(;r.length>0;){var o=r.pop();t?n.push(re(o)):n.push(Q(o)),Z(o)}return n},get_comment:function(){return I[O()]},set_comment:function(e){I[O()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=I[O()];return delete I[O()],e},get_comments:function(){return R(),Object.keys(I).map((function(e){return{fen:e,comment:I[e]}}))},delete_comments:function(){return R(),Object.keys(I).map((function(e){var r=I[e];return delete I[e],{fen:e,comment:r}}))}}};r.Chess=o,void 0===(t=function(){return o}.call(r,n,r,e))||(e.exports=t)}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=n(437);const r=new(n.n(e)()),t={f:["fox","Fox"]},o={1:["One","one"],2:["Two","two"],3:["Three","three"],4:["Four","four"],5:["Five","five","V","v"],6:["Six","six"],7:["Seven","seven"],8:["Eight","eight"]},i={r:"rook",n:"knight",b:"bishop",k:"king",q:"queen",p:"pawn"},l={b:"black",w:"white"};window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const u=new SpeechRecognition;u.lang="en-GB";const a=window.speechSynthesis;function f(e){const r=new SpeechSynthesisUtterance(e);r.voice=a.getVoices()[3],r.rate=.8,speechSynthesis.speak(r)}window.addEventListener("keypress",(function(e){"Space"==e.code&&u.start()}));let c="";function s(){return"Alpha 4"==c?(r.move("a4"),!0):"beta 4"==c&&(r.move("b4"),!0)}function p(e,r){for(const[n,t]of Object.entries(e))if(t.includes(r))return n}u.onresult=function(e){c=e.results[0][0].transcript,console.log(c)},u.onend=function(){u.stop(),function(e){let n=e.split(" ");"look"==n[0]?function(e){console.log("Words: "+e),console.log("words1: "+e[1]+"words2: "+e[2]);let n=p(e[1],t)+function(e){return parseInt(e)?e:p(e,o)}(e[2]);console.log("Square: "+n);let u=r.get(n);console.log("Square Info: "+u);let a=l[u.color];console.log("Color: "+a),f("There is a "+a+" "+i[u.type]+" at there")}(n):s()&&function(){let e=r.moves();const n=e[Math.floor(Math.random()*e.length)];f("I played");for(var t=0;t<n.length;t++)f(n.charAt(t));r.move(n),console.log(n)}()}(c),console.log(r.ascii())}})()})();